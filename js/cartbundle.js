(()=>{let t={};const e=document.querySelector(".checkout__price span");let n=parseInt(e.innerHTML,10);class r{constructor(e){this.name=e.dataset.productname,this.countWrapper=document.querySelector(`[data-productname="${this.name}"] .cart-product__count span`),this.count=parseInt(this.countWrapper.innerHTML,10),this.productPriceWrapper=document.querySelector(`[data-productname="${this.name}"] .cart-product__total-price span`),this.productPrice=parseInt(this.productPriceWrapper.innerHTML,10),this.plusBtn=document.querySelector(`[data-productname="${this.name}"] .cart-product__btn.plus`),this.minusBtn=document.querySelector(`[data-productname="${this.name}"] .cart-product__btn.minus`),t[this.name]=this.productPrice,this.btnListener()}btnListener(){this.plusBtn.addEventListener("click",(t=>{this.countChange(!0)})),this.minusBtn.addEventListener("click",(t=>{this.countChange(!1)}))}countChange(t){if(t)this.count++;else{if(1==this.count)return void this.deleteItemFromCart();this.count--}this.countWrapper.innerHTML=this.count,this.itemPriceChange()}itemPriceChange(){const r=this.productPrice*this.count,c=r-t[this.name];t[this.name]=r,this.productPriceWrapper.innerHTML=r,function(t){n+=t,e.innerHTML=n}(c)}deleteItemFromCart(){}}const c=document.querySelectorAll(".cart-product");for(let t=0;t<c.length;t++)new r(c[t]);function o(){if(window.matchMedia("(max-width: 700px)").matches)for(let t=0;t<c.length;t++){const e=c[t].dataset.productname,n=document.querySelector(`[data-productname="${e}"] .cart-product__info`),r=document.querySelector(`[data-productname="${e}"] .cart-product__products-number`),o=document.querySelector(`[data-productname="${e}"] .cart-product__total-price`);n.insertAdjacentElement("beforeend",r),n.insertAdjacentElement("beforeend",o)}}o(),window.addEventListener("resize",o);const i=document.querySelectorAll(".cart-product__wish-btn");for(let t=0;t<i.length;t++){const e=i[t];e.addEventListener("click",(t=>{e.classList.toggle("_added")}))}})();